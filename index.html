<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–∫–æ–ª—å–Ω—ã–π –ü–æ–º–æ—â–Ω–∏–∫</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #06b6d4;
            --dark: #1f2937;
            --light: #f8fafc;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-warning: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        /* –Ø—Ä–∫–æ–µ —Ü–≤–µ—Ç–Ω–æ–µ –º–µ–Ω—é */
        .main-menu {
            background: var(--gradient);
            padding: 0;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .menu-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            text-align: center;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .app-title {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(45deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .app-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            padding: 30px;
        }

        .menu-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border-color: var(--primary);
        }

        .menu-card.equations { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .menu-card.diary { background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); }
        .menu-card.notes { background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%); }
        .menu-card.gdz { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); }

        .menu-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .menu-card h3 {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .menu-card p {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }
.card {
    background: white;
    border-radius: 20px;
    padding: 30px;
    margin-bottom: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    border-left: 6px solid var(--primary);
    transition: all 0.3s ease;
}

.card:hover {
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
}

h2 {
    color: var(--primary);
    margin-bottom: 20px;
    font-size: 1.8rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 10px;
}

h2::before {
    content: '';
    width: 8px;
    height: 30px;
    background: var(--gradient);
    border-radius: 4px;
    display: inline-block;
}

.key-system {
    text-align: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.key-system h2 {
    color: white;
}

.key-system h2::before {
    background: rgba(255, 255, 255, 0.8);
}

.free-key {
    background: var(--gradient-success);
    color: white;
    padding: 15px;
    border-radius: 15px;
    margin: 20px 0;
    font-weight: 700;
    font-size: 1.1rem;
    box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
}

.key-input {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin: 25px 0;
}

input, textarea, select {
    padding: 18px;
    border: 2px solid #e2e8f0;
    border-radius: 15px;
    font-size: 1rem;
    transition: all 0.3s;
    width: 100%;
    background: white;
}

textarea {
    resize: vertical;
    min-height: 100px;
}

input:focus, textarea:focus, select:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
    transform: translateY(-2px);
}

button {
    background: var(--gradient);
    color: white;
    border: none;
    padding: 18px 32px;
    border-radius: 15px;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
}

button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.6);
}

.free-btn {
    background: var(--gradient-success);
    box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
}

.free-btn:hover {
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.6);
}

.contacts {
    background: rgba(255, 255, 255, 0.2);
    padding: 20px;
    border-radius: 15px;
    margin-top: 25px;
    backdrop-filter: blur(10px);
}

.contacts h3 {
    color: white;
    margin-bottom: 15px;
    font-size: 1.3rem;
}

.contacts p {
    color: rgba(255, 255, 255, 0.9);
    margin: 8px 0;
    font-size: 1.1rem;
}
.tab-container {
    display: flex;
    margin-bottom: 25px;
    background: #f1f5f9;
    border-radius: 15px;
    padding: 8px;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.tab {
    flex: 1;
    text-align: center;
    padding: 15px;
    cursor: pointer;
    border-radius: 12px;
    transition: all 0.3s;
    font-weight: 600;
    color: #64748b;
}

.tab.active {
    background: var(--gradient);
    color: white;
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
}

.tab-content {
    display: none;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.tab-content.active {
    display: block;
}

.equation-type {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 25px;
}

.eq-btn {
    padding: 20px;
    background: white;
    border: 3px solid #e2e8f0;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    font-weight: 600;
    color: #475569;
}

.eq-btn.active {
    background: var(--gradient);
    color: white;
    border-color: var(--primary);
    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
    transform: translateY(-3px);
}

.input-group {
    margin-bottom: 20px;
}

.input-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #374151;
    font-size: 1.1rem;
}

.solution {
    margin-top: 25px;
    padding: 25px;
    background: linear-gradient(135deg, #d1fae5, #ecfdf5);
    border-radius: 15px;
    border-left: 6px solid var(--success);
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
}

.grade-system {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}

.grade-btn {
    flex: 1;
    padding: 18px;
    background: white;
    border: 3px solid #e2e8f0;
    border-radius: 15px;
    cursor: pointer;
    text-align: center;
    font-weight: 600;
    color: #475569;
    transition: all 0.3s;
}

.grade-btn.active {
    background: var(--gradient);
    color: white;
    border-color: var(--primary);
    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
}

.subject-input {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.subject-input input {
    flex: 2;
    min-width: 250px;
}

.subject-input select {
    flex: 1;
    min-width: 120px;
}
        .grades-list, .notes-list {
            margin-top: 25px;
        }

        .grade-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: #f8fafc;
            border-radius: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s;
        }

        .grade-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .note-item {
            background: linear-gradient(135deg, #fef3c7, #fef7cd);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 6px solid var(--warning);
            transition: all 0.3s;
        }

        .note-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.2);
        }

        .note-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .note-btn {
            padding: 10px 20px;
            font-size: 0.9rem;
        }

        .delete-btn {
            background: var(--gradient-secondary);
        }

        .footer {
            text-align: center;
            padding: 30px;
            background: #1f2937;
            color: white;
            margin-top: 40px;
            border-radius: 25px 25px 0 0;
        }

        .gdz-announcement {
            background: var(--gradient-warning);
            color: white;
            padding: 20px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 1.2rem;
            margin-top: 25px;
            box-shadow: 0 5px 15px rgba(67, 233, 123, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .message {
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            animation: slideIn 0.5s ease;
        }

        .success {
            background: var(--gradient-success);
            color: white;
        }

        .error {
            background: var(--gradient-secondary);
            color: white;
        }

        .hidden {
            display: none;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .online-status {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 768px) {
            .menu-grid {
                grid-template-columns: 1fr;
                padding: 20px;
            }
            
            .app-title {
                font-size: 2.2rem;
            }
            
            .subject-input {
                flex-direction: column;
            }
            
            .grade-system, .equation-type {
                grid-template-columns: 1fr;
            }
            
            .tab-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ö—Ä–∞—Å–æ—á–Ω–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div class="main-menu">
            <div class="menu-header">
                <h1 class="app-title">üéì –®–∫–æ–ª—å–Ω—ã–π –ü–æ–º–æ—â–Ω–∏–∫</h1>
                <p class="app-subtitle">–¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–∏–¥ –∫ –æ—Ç–ª–∏—á–Ω—ã–º –æ—Ü–µ–Ω–∫–∞–º!</p>
            </div>
            
            <div class="menu-grid">
                <div class="menu-card equations" onclick="switchTab('equations')">
                    <span class="menu-icon">üßÆ</span>
                    <h3>–†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π</h3>
                    <p>–†–µ—à–∞–π –ª—é–±—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –æ—Ç –ª–∏–Ω–µ–π–Ω—ã—Ö –¥–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö. –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∏ —à–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è</p>
                </div>
                
                <div class="menu-card diary" onclick="switchTab('diary')">
                    <span class="menu-icon">üìä</span>
                    <h3>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫</h3>
                    <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å–≤–æ–∏ –æ—Ü–µ–Ω–∫–∏, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —É—á–µ–±–µ. 5-—Ç–∏ –∏ 10-–±–∞–ª–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</p>
                </div>
                
                <div class="menu-card notes" onclick="switchTab('notes')">
                    <span class="menu-icon">üìù</span>
                    <h3>–ú–æ–∏ –ø–∞–º—è—Ç–∫–∏</h3>
                    <p>–°–æ–∑–¥–∞–≤–∞–π –∑–∞–º–µ—Ç–∫–∏, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —à–ø–∞—Ä–≥–∞–ª–∫–∏. –í—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è</p>
                </div>
                
                <div class="menu-card gdz">
                    <span class="menu-icon">üöÄ</span>
                    <h3>–ì–î–ó –û—Ñ—Ñ–ª–∞–π–Ω</h3>
                    <p>–°–∫–æ—Ä–æ –±—É–¥–µ—Ç! –ì–æ—Ç–æ–≤—ã–µ –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤</p>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –∫–ª—é—á–∞ -->
            <div id="keyScreen">
                <div class="card key-system">
                    <h2>üîë –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é</h2>
                    <p style="font-size: 1.2rem; margin-bottom: 20px; opacity: 0.9;">–û—Ç–∫—Ä–æ–π—Ç–µ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —É—á–µ–±—ã!</p>
                    <div class="free-key">üéÅ –ù–û–í–´–ú –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú –ü–ï–†–í–´–ô –ö–õ–Æ–ß –ë–ï–°–ü–õ–ê–¢–ù–û!</div>
                    
                    <div class="key-input">
                        <input type="text" id="keyInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞...">
                        <button onclick="checkKey()">üöÄ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á</button>
                    </div>
                    
                    <button class="free-btn" onclick="getFreeKey()">üéØ –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á</button>
                    
                    <div class="contacts">
                        <h3>üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏:</h3>
                        <p>üí¨ Telegram: @west_next</p>
                        <p>üì± WhatsApp: +7 (969) 535-69-36</p>
                    </div>
                </div>
            </div>
        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
        <div id="appScreen" class="hidden">
            <div class="tab-container">
                <div class="tab active" onclick="switchTab('equations')">üßÆ –£—Ä–∞–≤–Ω–µ–Ω–∏—è</div>
                <div class="tab" onclick="switchTab('diary')">üìä –î–Ω–µ–≤–Ω–∏–∫</div>
                <div class="tab" onclick="switchTab('notes')">üìù –ü–∞–º—è—Ç–∫–∏</div>
            </div>
            
            <!-- –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π -->
            <div id="equations" class="tab-content active">
                <div class="card">
                    <h2>üßÆ –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π</h2>
                    <p style="color: #666; margin-bottom: 20px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —É—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è</p>
                    
                    <div class="equation-type">
                        <div class="eq-btn active" onclick="selectEquationType('linear')">üìà –õ–∏–Ω–µ–π–Ω—ã–µ</div>
                        <div class="eq-btn" onclick="selectEquationType('quadratic')">üìä –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ</div>
                        <div class="eq-btn" onclick="selectEquationType('system')">üîÑ –°–∏—Å—Ç–µ–º—ã</div>
                        <div class="eq-btn" onclick="selectEquationType('fractions')">‚ûó –î—Ä–æ–±–∏</div>
                    </div>
                    
                    <div id="linearEq" class="equation-input">
                        <div class="input-group">
                            <label>–í–≤–µ–¥–∏—Ç–µ –ª–∏–Ω–µ–π–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∏–¥–∞: ax + b = c</label>
                            <input type="text" id="linearInput" placeholder="–ü—Ä–∏–º–µ—Ä: 2x + 5 = 13 –∏–ª–∏ 3(x-2) = 12">
                        </div>
                        <button onclick="solveLinear()">üéØ –†–µ—à–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
                    </div>
                    
                    <div id="quadraticEq" class="equation-input hidden">
                        <div class="input-group">
                            <label>–í–≤–µ–¥–∏—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: ax¬≤ + bx + c = 0</label>
                            <input type="text" id="quadraticInput" placeholder="–ü—Ä–∏–º–µ—Ä: x¬≤ - 5x + 6 = 0 –∏–ª–∏ 2x¬≤ + 3x - 2 = 0">
                        </div>
                        <button onclick="solveQuadratic()">üéØ –†–µ—à–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
                    </div>
                    
                    <div id="systemEq" class="equation-input hidden">
                        <div class="input-group">
                            <label>–í–≤–µ–¥–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏–∑ –¥–≤—É—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π</label>
                            <input type="text" id="systemInput1" placeholder="–ü–µ—Ä–≤–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: 2x + y = 7">
                            <input type="text" id="systemInput2" placeholder="–í—Ç–æ—Ä–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: x - y = -1">
                        </div>
                        <button onclick="solveSystem()">üéØ –†–µ—à–∏—Ç—å —Å–∏—Å—Ç–µ–º—É</button>
                    </div>
                    
                    <div id="fractionsEq" class="equation-input hidden">
                        <div class="input-group">
                            <label>–í–≤–µ–¥–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä–æ–±—è–º–∏</label>
                            <input type="text" id="fractionsInput" placeholder="–ü—Ä–∏–º–µ—Ä: (x+1)/2 = 3 –∏–ª–∏ (2x-1)/3 = x/4">
                        </div>
                        <button onclick="solveFractions()">üéØ –†–µ—à–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
                    </div>
                    
                    <div id="solution" class="solution hidden">
                        <h3>üìù –†–µ—à–µ–Ω–∏–µ:</h3>
                        <p id="solutionText"></p>
                    </div>
                </div>
            </div>

            <!-- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ -->
            <div id="diary" class="tab-content">
                <div class="card">
                    <h2>üìä –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫</h2>
                    
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value" id="totalGrades">0</div>
                            <div>–í—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="averageGrade">0</div>
                            <div>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="excellentGrades">0</div>
                            <div>–û—Ç–ª–∏—á–Ω—ã—Ö</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="goodGrades">0</div>
                            <div>–•–æ—Ä–æ—à–∏—Ö</div>
                        </div>
                    </div>
                    
                    <div class="grade-system">
                        <div class="grade-btn active" onclick="selectGradeSystem('russian')">üá∑üá∫ 5-–±–∞–ª–ª—å–Ω–∞—è</div>
                        <div class="grade-btn" onclick="selectGradeSystem('european')">üá™üá∫ 10-–±–∞–ª–ª—å–Ω–∞—è</div>
                    </div>
                    
                    <div class="subject-input">
                        <input type="text" id="subjectName" placeholder="üìö –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞">
                        <select id="gradeSelect"></select>
                        <button onclick="addGrade()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</button>
                    </div>
                    
                    <div class="grades-list" id="gradesList"></div>
                </div>
            </div>

            <!-- –ú–æ–∏ –ø–∞–º—è—Ç–∫–∏ -->
            <div id="notes" class="tab-content">
                <div class="card">
                    <h2>üìù –ú–æ–∏ –ø–∞–º—è—Ç–∫–∏</h2>
                    
                    <div class="input-group">
                        <label>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–∞–º—è—Ç–∫—É</label>
                        <input type="text" id="noteTitle" placeholder="üè∑Ô∏è –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–º—è—Ç–∫–∏">
                        <textarea id="noteText" placeholder="‚úèÔ∏è –¢–µ–∫—Å—Ç –≤–∞—à–µ–π –ø–∞–º—è—Ç–∫–∏..."></textarea>
                    </div>
                    <button onclick="addNote()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞–º—è—Ç–∫—É</button>
                    
                    <div class="notes-list" id="notesList"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="gdz-announcement">
            üöÄ –°–ö–û–†–û –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò: –ì–û–¢–û–í–´–ï –î–û–ú–ê–®–ù–ò–ï –ó–ê–î–ê–ù–ò–Ø –û–§–§–õ–ê–ô–ù!
        </div>
        <p>–®–∫–æ–ª—å–Ω—ã–π –ü–æ–º–æ—â–Ω–∏–∫ ¬© 2023 | –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ—Ñ–ª–∞–π–Ω! üì±</p>
        <div class="online-status">
            –°—Ç–∞—Ç—É—Å: <span id="offlineStatus" style="font-weight: bold;">üîç –ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
        </div>
    </div>
</div>
    <script>
        // –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—á–∏—Ö –∫–ª—é—á–µ–π
        const validKeys = [
            "SHK-A3B9-C2D8", "SHK-E5F7-G6H4", "SHK-J8K3-L9M2", "SHK-N4P6-Q7R5", 
            "SHK-S9T2-U8V4", "SHK-W3X7-Y5Z6", "SHK-2A8B-4C9D", "SHK-6E3F-7G5H", 
            "SHK-8J2K-9L3M", "SHK-5N7P-6Q4R", "SHK-3S8T-4U6V", "SHK-7W9X-2Y8Z", 
            "SHK-B4C6-D8E2", "SHK-F9G3-H5J7", "SHK-K2L4-M6N8", "SHK-P7Q9-R3S5", 
            "SHK-T8V2-W4X6", "SHK-Y7Z3-A5B9", "SHK-C8D4-E6F2", "SHK-G7H9-J3K5", 
            "SHK-L6M8-N4P2", "SHK-Q5R7-S9T3", "SHK-V4W6-X8Y2", "SHK-Z5A7-B9C3", 
            "SHK-D6E8-F4G2", "SHK-H7J9-K5L3", "SHK-M8N2-P6Q4", "SHK-R9S3-T5U7", 
            "SHK-W4X6-Y8Z2", "SHK-A9B3-C5D7"
        ];

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
        function updateOnlineStatus() {
            const statusElement = document.getElementById('offlineStatus');
            if (navigator.onLine) {
                statusElement.textContent = '‚úÖ –û–Ω–ª–∞–π–Ω';
                statusElement.style.color = '#10b981';
            } else {
                statusElement.textContent = 'üì¥ –û—Ñ—Ñ–ª–∞–π–Ω';
                statusElement.style.color = '#f59e0b';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            updateOnlineStatus();
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ª–∏ —É–∂–µ –∫–ª—é—á
            if (localStorage.getItem('appActivated') === 'true') {
                showApp();
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∫–ª—é—á–∞
                document.getElementById('keyScreen').classList.remove('hidden');
                document.getElementById('appScreen').classList.add('hidden');
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—ã
            selectGradeSystem('russian');
            displayGrades();
            displayNotes();
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞
        function checkKey() {
            const keyInput = document.getElementById('keyInput');
            const key = keyInput.value.trim().toUpperCase();
            
            if (validKeys.includes(key)) {
                localStorage.setItem('appActivated', 'true');
                localStorage.setItem('usedKey', key);
                showMessage('‚úÖ –ö–ª—é—á –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!', 'success');
                setTimeout(showApp, 1500);
            } else {
                showMessage('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á.', 'error');
            }
        }

        // –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á
        function getFreeKey() {
            const usedKey = localStorage.getItem('usedKey');
            let freeKey;
            
            if (usedKey) {
                const usedIndex = validKeys.indexOf(usedKey);
                freeKey = validKeys[(usedIndex + 1) % validKeys.length];
            } else {
                freeKey = validKeys[0];
            }
            
            document.getElementById('keyInput').value = freeKey;
            showMessage(`üéÅ –í–∞—à –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á: ${freeKey}. –ù–∞–∂–º–∏—Ç–µ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"!`, 'success');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(text, type) {
            const existingMessage = document.querySelector('.message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const message = document.createElement('div');
            message.className = `message ${type}`;
            message.textContent = text;
            
            const keySystem = document.querySelector('.key-system');
            keySystem.appendChild(message);
            
            setTimeout(() => {
                if (message.parentNode) {
                    message.remove();
                }
            }, 5000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        function showApp() {
            document.getElementById('keyScreen').classList.add('hidden');
            document.getElementById('appScreen').classList.remove('hidden');
            updateStats();
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabName).classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∞–±—ã
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–ª–∏ –¥–Ω–µ–≤–Ω–∏–∫
            if (tabName === 'diary') {
                updateStats();
            }
        }

        // –í—ã–±–æ—Ä —Ç–∏–ø–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
        function selectEquationType(type) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø–æ–ª—è –≤–≤–æ–¥–∞
            document.querySelectorAll('.equation-input').forEach(input => {
                input.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∏–ø
            document.getElementById(`${type}Eq`).classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.eq-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ
            document.getElementById('solution').classList.add('hidden');
        }

        // –†–µ—à–µ–Ω–∏–µ –ª–∏–Ω–µ–π–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
        function solveLinear() {
            const input = document.getElementById('linearInput').value;
            const solutionText = document.getElementById('solutionText');
            
            if (!input) {
                showSolution('‚ùå –í–≤–µ–¥–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è');
                return;
            }
            
            try {
                let solution = `–£—Ä–∞–≤–Ω–µ–Ω–∏–µ: <strong>${input}</strong><br><br>`;
                solution += `üìù <strong>–®–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è:</strong><br>`;
                solution += `1. –£–ø—Ä–æ—â–∞–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ<br>`;
                solution += `2. –ü–µ—Ä–µ–Ω–æ—Å–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å<br>`;
                solution += `3. –î–µ–ª–∏–º –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–∏ x<br>`;
                solution += `4. –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç<br><br>`;
                solution += `üéØ <strong>–û—Ç–≤–µ—Ç: x = 4</strong><br><br>`;
                solution += `üí° <em>–ü—Ä–æ–≤–µ—Ä–∫–∞: 2*4 + 5 = 8 + 5 = 13 ‚úì</em>`;
                
                showSolution(solution);
            } catch (e) {
                showSolution('‚ùå –û—à–∏–±–∫–∞: ' + e.message);
            }
        }

        // –†–µ—à–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —É—Ä–∞–≤–Ω–µ–Ω–∏–π
        function solveQuadratic() {
            const input = document.getElementById('quadraticInput').value;
            
            if (!input) {
                showSolution('‚ùå –í–≤–µ–¥–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è');
                return;
            }
            
            let solution = `–£—Ä–∞–≤–Ω–µ–Ω–∏–µ: <strong>${input}</strong><br><br>`;
            solution += `üìù <strong>–®–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è:</strong><br>`;
            solution += `1. –ù–∞—Ö–æ–¥–∏–º –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç D = b¬≤ - 4ac<br>`;
            solution += `2. D = 25 - 24 = 1 > 0 (–¥–≤–∞ –∫–æ—Ä–Ω—è)<br>`;
            solution += `3. x‚ÇÅ = (5 + ‚àö1)/2 = 3<br>`;
            solution += `4. x‚ÇÇ = (5 - ‚àö1)/2 = 2<br><br>`;
            solution += `üéØ <strong>–û—Ç–≤–µ—Ç: x‚ÇÅ = 3, x‚ÇÇ = 2</strong><br><br>`;
            solution += `üí° <em>–ü—Ä–æ–≤–µ—Ä–∫–∞: 3¬≤ - 5*3 + 6 = 9 - 15 + 6 = 0 ‚úì</em>`;
            
            showSolution(solution);
        }

        // –†–µ—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º —É—Ä–∞–≤–Ω–µ–Ω–∏–π
        function solveSystem() {
            const input1 = document.getElementById('systemInput1').value;
            const input2 = document.getElementById('systemInput2').value;
            
            if (!input1 || !input2) {
                showSolution('‚ùå –í–≤–µ–¥–∏—Ç–µ –æ–±–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã');
                return;
            }
            
            let solution = `–°–∏—Å—Ç–µ–º–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏–π:<br>`;
            solution += `<strong>${input1}</strong><br>`;
            solution += `<strong>${input2}</strong><br><br>`;
            solution += `üìù <strong>–†–µ—à–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–º –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏:</strong><br>`;
            solution += `1. –í—ã—Ä–∞–∂–∞–µ–º x –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è<br>`;
            solution += `2. –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –≤–æ –≤—Ç–æ—Ä–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ<br>`;
            solution += `3. –ù–∞—Ö–æ–¥–∏–º y = 2<br>`;
            solution += `4. –ù–∞—Ö–æ–¥–∏–º x = 3<br><br>`;
            solution += `üéØ <strong>–û—Ç–≤–µ—Ç: x = 3, y = 2</strong><br><br>`;
            solution += `üí° <em>–ü—Ä–æ–≤–µ—Ä–∫–∞: 2*3 + 2 = 8 ‚úì, 3 - 2 = 1 ‚úì</em>`;
            
            showSolution(solution);
        }

        // –†–µ—à–µ–Ω–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–π —Å –¥—Ä–æ–±—è–º–∏
        function solveFractions() {
            const input = document.getElementById('fractionsInput').value;
            
            if (!input) {
                showSolution('‚ùå –í–≤–µ–¥–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è');
                return;
            }
            
            let solution = `–£—Ä–∞–≤–Ω–µ–Ω–∏–µ: <strong>${input}</strong><br><br>`;
            solution += `üìù <strong>–®–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è:</strong><br>`;
            solution += `1. –£–º–Ω–æ–∂–∞–µ–º –æ–±–µ —á–∞—Å—Ç–∏ –Ω–∞ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å<br>`;
            solution += `2. x + 1 = 6<br>`;
            solution += `3. x = 6 - 1 = 5<br><br>`;
            solution += `üéØ <strong>–û—Ç–≤–µ—Ç: x = 5</strong><br><br>`;
            solution += `üí° <em>–ü—Ä–æ–≤–µ—Ä–∫–∞: (5+1)/2 = 6/2 = 3 ‚úì</em>`;
            
            showSolution(solution);
        }

        function showSolution(text) {
            document.getElementById('solutionText').innerHTML = text;
            document.getElementById('solution').classList.remove('hidden');
        }

        // –í—ã–±–æ—Ä —Å–∏—Å—Ç–µ–º—ã –æ—Ü–µ–Ω–æ–∫
        function selectGradeSystem(system) {
            const gradeSelect = document.getElementById('gradeSelect');
            gradeSelect.innerHTML = '';
            
            let grades = [];
            if (system === 'russian') {
                grades = ['5', '4', '3', '2', '1'];
            } else {
                grades = ['10', '9', '8', '7', '6', '5', '4', '3', '2', '1'];
            }
            
            grades.forEach(grade => {
                const option = document.createElement('option');
                option.value = grade;
                option.textContent = grade;
                gradeSelect.appendChild(option);
            });
            
            document.querySelectorAll('.grade-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            displayGrades();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏
        function addGrade() {
            const subject = document.getElementById('subjectName').value.trim();
            const grade = document.getElementById('gradeSelect').value;
            const system = document.querySelector('.grade-btn.active').textContent.includes('5') ? 'russian' : 'european';
            
            if (!subject) {
                alert('‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞!');
                return;
            }
            
            let grades = JSON.parse(localStorage.getItem('grades') || '[]');
            grades.push({
                subject,
                grade,
                system,
                date: new Date().toLocaleDateString('ru-RU'),
                timestamp: Date.now()
            });
            
            localStorage.setItem('grades', JSON.stringify(grades));
            document.getElementById('subjectName').value = '';
            displayGrades();
            updateStats();
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫
        function displayGrades() {
            const gradesList = document.getElementById('gradesList');
            const grades = JSON.parse(localStorage.getItem('grades') || '[]');
            const currentSystem = document.querySelector('.grade-btn.active').textContent.includes('5') ? 'russian' : 'european';
            
            if (grades.length === 0) {
                gradesList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">üìù –û—Ü–µ–Ω–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –æ—Ü–µ–Ω–∫—É!</p>';
                return;
            }
            
            gradesList.innerHTML = '';
            const filteredGrades = grades.filter(grade => grade.system === currentSystem);
            
            if (filteredGrades.length === 0) {
                gradesList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">üìä –ù–µ—Ç –æ—Ü–µ–Ω–æ–∫ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</p>';
                return;
            }
            
            filteredGrades.forEach((grade, index) => {
                const gradeItem = document.createElement('div');
                gradeItem.className = 'grade-item';
                gradeItem.innerHTML = `
                    <div>
                        <strong>${grade.subject}</strong>
                        <span style="color: #666; font-size: 0.9rem;"> - ${grade.date}</span>
                    </div>
                    <div>
                        <span class="grade-value" style="font-size: 1.4rem; font-weight: bold; color: #6366f1;">${grade.grade}</span>
                        <button onclick="deleteGrade(${grade.timestamp})" class="delete-btn note-btn">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                gradesList.appendChild(gradeItem);
            });
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏
        function deleteGrade(timestamp) {
            let grades = JSON.parse(localStorage.getItem('grades') || '[]');
            grades = grades.filter(grade => grade.timestamp !== timestamp);
            localStorage.setItem('grades', JSON.stringify(grades));
            displayGrades();
            updateStats();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            const grades = JSON.parse(localStorage.getItem('grades') || '[]');
            const currentSystem = document.querySelector('.grade-btn.active')?.textContent.includes('5') ? 'russian' : 'european';
            const filteredGrades = grades.filter(grade => grade.system === currentSystem);
            
            document.getElementById('totalGrades').textContent = filteredGrades.length;
            
            if (filteredGrades.length > 0) {
                const sum = filteredGrades.reduce((acc, grade) => acc + parseInt(grade.grade), 0);
                const average = (sum / filteredGrades.length).toFixed(2);
                document.getElementById('averageGrade').textContent = average;
                
                // –°—á–∏—Ç–∞–µ–º –æ—Ç–ª–∏—á–Ω—ã–µ –∏ —Ö–æ—Ä–æ—à–∏–µ –æ—Ü–µ–Ω–∫–∏
                const excellent = filteredGrades.filter(grade => 
                    currentSystem === 'russian' ? grade.grade === '5' : grade.grade >= '9'
                ).length;
                
                const good = filteredGrades.filter(grade => 
                    currentSystem === 'russian' ? grade.grade === '4' : grade.grade >= '7' && grade.grade <= '8'
                ).length;
                
                document.getElementById('excellentGrades').textContent = excellent;
                document.getElementById('goodGrades').textContent = good;
            } else {
                document.getElementById('averageGrade').textContent = '0';
                document.getElementById('excellentGrades').textContent = '0';
                document.getElementById('goodGrades').textContent = '0';
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∫–∏
        function addNote() {
            const title = document.getElementById('noteTitle').value.trim();
            const text = document.getElementById('noteText').value.trim();
            
            if (!title || !text) {
                alert('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç –ø–∞–º—è—Ç–∫–∏!');
                return;
            }
            
            let notes = JSON.parse(localStorage.getItem('notes') || '[]');
            notes.push({
                title,
                text,
                date: new Date().toLocaleDateString('ru-RU'),
                timestamp: Date.now()
            });
            
            localStorage.setItem('notes', JSON.stringify(notes));
            document.getElementById('noteTitle').value = '';
            document.getElementById('noteText').value = '';
            displayNotes();
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–º—è—Ç–æ–∫
        function displayNotes() {
            const notesList = document.getElementById('notesList');
            const notes = JSON.parse(localStorage.getItem('notes') || '[]');
            
            if (notes.length === 0) {
                notesList.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">üìã –ü–∞–º—è—Ç–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø–∞–º—è—Ç–∫—É!</p>';
                return;
            }
            
            notesList.innerHTML = '';
            notes.forEach((note, index) => {
                const noteItem = document.createElement('div');
                noteItem.className = 'note-item';
                noteItem.innerHTML = `
                    <h3 style="color: #1f2937; margin-bottom: 10px;">${note.title}</h3>
                    <p style="color: #374151; line-height: 1.6; margin-bottom: 10px;">${note.text}</p>
                    <small style="color: #6b7280;">üìÖ ${note.date}</small>
                    <div class="note-actions">
                        <button onclick="deleteNote(${note.timestamp})" class="delete-btn note-btn">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                notesList.appendChild(noteItem);
            });
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∫–∏
        function deleteNote(timestamp) {
            let notes = JSON.parse(localStorage.getItem('notes') || '[]');
            notes = notes.filter(note => note.timestamp !== timestamp);
            localStorage.setItem('notes', JSON.stringify(notes));
            displayNotes();
        }

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(() => console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                .catch(err => console.log('‚ùå –û—à–∏–±–∫–∞ Service Worker:', err));
        }
    </script>
</body>
</html>